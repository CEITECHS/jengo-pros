# Proffesionals/Experts API - Pros API 
# Pros API spec in YAML
swagger: '2.0'
info:
  title: Pros API
  description:  Pros API - is an API to track Contractor work done by proffessionals       or experts in different domain. A contactor can be a person or a company.
  version: "0.0.1"
# Host Url
host: api.pros.com
produces: 
  - application/json
paths:
  /pros/signUP:
   post:
      description: Create new contractor for sign up.
      produces:
        - application/json
      parameters:
        - name: contractor
          in: body
          description: Some useful contractor information for sign-up.
          required: true
          schema:
            $ref: '#/definitions/newPros'
      responses:
        200:
          description: Successful created.
          schema:
            $ref: '#/definitions/newPros'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
  /pros/activate/{activationCode}:
    put:
      summary: Activation endpoint.
      parameters:
        - name: activationCode
          in: path
          description: Activation code to verify
          required: true
          type: string
      responses:
        200:
          description: sucessful operation.
  /pros/login:
    get:
      summary: Login endpoint
      parameters:
        - name: email
          type: string
          in: query
        - name: password
          type: string
          in: query
      responses:
        200:
          description: succesful operation
  /pros:
    get:
      summary: pros list
      description: |
        The pros endpoint returns information about contractors who are offering 
        different services. The responce includes contractor information like names and contact details.Also all services contractor has offered to different clients and his/her proffessional education.
      parameters:
        - name: pageNumber
          in: query
          description: A page number of the returned value. Default is one.
          type: integer
          format: int32
          required: false
        - name: pageSize
          in: query
          description: Number of items to retrieve in a page. Default is 10. Maximum is 100.
          type: integer
          format: int32
          required: false
      responses: 
        200: 
          description: An array of contractors with their information.
          schema:
            type: array
            items:
              $ref: '#/definitions/Contractor'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
  /pros/{contractorId}/profile:
    get:
      description: |
        The pros endpoint returns information for a specific contractor.
      parameters:
        - name: contractorId
          in: path
          description: Unique contractor identifier which its result will be returned.
          required: true
          type: integer
      responses:
        200:
          description: Contractor's information.
          schema:
            $ref: '#/definitions/Contractor'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
    put:
      summary: Update pros information.
      description: The endpoint to update contractor information.
      produces:
        - application/json
        - application/xml
      parameters:
        - name: contractorId
          in: path
          description: Unique contractor identifier which its information will be updated.
          required: true
          type: integer
        - name: body
          in: body
          description: Updated contractor object.
          required: true
          schema:
            $ref: '#/definitions/Contractor'
      responses:
        200:
          description: Successful operation
          schema:
            $ref: '#/definitions/Contractor'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
    delete:
      summary: Delete pros information.
      description: The endpoint to delete contractor information.
      produces:
        - application/json
        - application/xml
      parameters:
        - name: contractorId
          in: path
          description: Unique contractor identifier which its information will be deleted.
          required: true
          type: integer
      responses:
        200:
          description: Successful operation
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
  /pros/{contractorId}/profile/changePassword:
    put:
      parameters:
        - name: contractorId
          in: path
          description: Unique Contractor Identifier for the contractor profile.
          required: true
          type: integer
        - name: body
          in: body
          description: Updated object to update.
          required: true
          schema:
            $ref: '#/definitions/ChangePasswordObject'
      responses:
        200:
          description: Successful operation
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
        
  /pros/{contractorId}/attachments:
    get:
      summary: Retrieve Contractor's attachments.
      description: The endpoint is used to retrieve all personal attachments associated with this contractor ID. Not proffessional education attachments.
      produces:
        - application/json
        - application/xml
      parameters:
      - name: contractorId
        in: path
        description: Unique Contractor Identifier which owns all retrieved attachments.
        required: true
        type: integer
      responses:
        200:
          description: Contractor's attachments.
          schema:
            type: array
            items:
              $ref: '#/definitions/Attachments'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
  /pros/{contractorId}/projects:
    get:
      summary: Retrieve Contractor's projects.
      description: The endpoint is used to retrieve all projects on contractor's profile associated with the given contractor ID.
      produces:
        - application/json
        - application/xml
      parameters:
      - name: contractorId
        in: path
        description: Unique Contractor Identifier which owns all retrieved projects.
        required: true
        type: integer
      responses:
        200:
          description: Contractor's projects.
          schema:
            type: array
            items:
              $ref: '#/definitions/Projects'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
  /pros/{contractorId}/services:
    get:
      summary: Retrieve Contractor's services offered.
      description: The endpoint is used to retrieve all services on contractor's profile associated with the given contractor ID.
      produces:
        - application/json
        - application/xml
      parameters:
      - name: contractorId
        in: path
        description: Unique Contractor Identifier which owns all retrieved services.
        required: true
        type: integer
      responses:
        200:
          description: Contractor's services.
          schema:
            type: array
            items:
              $ref: '#/definitions/ServiceOffering'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/Error'
definitions:
   Contractor:
    type: object
    properties:
      contractorId:
        type: integer
        description: Unique identifier representing a specific contractor.
      email:
        type: string
        description: Email address of a contractor.
      contractorName:
        type: string
        description: Full name of a contractor.
      address:
        $ref: '#/definitions/Address'
      picture:
        type: object
        description: Picture of a contractor.
      photoId:
        type: object
        description: Photo id of a contractor.
      introText:
        type: string
        description: Summary intro text to describe the contractor.
      phoneNumber:
        type: string
        description: Phone number of a contractor.
      attacchment:
        type: object
        description: Contractor's attachments.
      projects:
        type: object
        description: Projects done by contractor.
      serviceOfferings:
        type: object
        description: Different services offered by contractor.
   newPros:
    type: object
    required:
      - firstName
      - lastName
      - email
      - password
      - phone
      - introText
      - address
    properties:
      firstName:
        type: string
      middleName:
        type: string
      lastName:
        type: string
      email:
        type: string
        description: contractor's email ID. Will be used as username too.
      password:
        type: string
      introText:
        type: string
        description: Introduction summary of what a pros do.
      phone:
        $ref: '#/definitions/Phone'
      address:
        $ref: '#/definitions/Address'
   Attachments:
    type: object
    required:
      - id
      - name
      - byteArray
      - extension
    properties:
      id:
        type: integer
        description: Attachment ID.
      name:
        type: string
        description: Attachment file name
      byteArray:
        type: object
        description: Array stream of the attachment contect.
      extension:
        type: string
        description: File extension of an attachment. eg. pdf, txt, doc, exls.
   Projects:
    type: object
    required:
      - projectName
      - client
      - serviceOffering
    properties:
      projectName:
        type: string
      client:
        type: object
      serviceOffering:
        type: array
        items:
          $ref: '#/definitions/ServiceOffering'
   ServiceOffering:
    type: object
    properties:
      serviceName:
        type: string
        description: Name of the service offered.
      phaseName:
        type: string
        description: Name of the phase to which the service is offered.
   Phone:
    type: object
    properties:
      phoneNumber:
        type: string
        description: Phone number of the the contractor.
      isPrimary:
        type: boolean
        description: Most prefered to be contacted with.
      contactMethod:
        type: string
        description: method you want to be contacted using this phone number. Either by text or call.
   Address:
    type: object
    properties:
      longtude:
        type: number
        format: double
        description: Longtude of an address (location)
      latitude:
        type: number
        format: double
        description: Latitude of an address (location)
      street:
        type: string
        description: Street name of an address.
      district:
        type: string
        description: District name of an address.
      region:
        type: string
        description: Region name of an address.
      country:
        type: string
        description: Country name of an address.
   ChangePasswordObject:
    type: object
    properties:
      contractorId:
        type: string
      email:
       type: string
      oldPassword:
        type: string
      newPassword:
        type: string
        
   Error:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string  
      fields:
        type: string